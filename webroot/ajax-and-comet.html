<!DOCTYPE html><html lang="en"><head></head><body class="lift:content_id=main">

    <div id="main" class="lift:surround?with=default;at=content">

      
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Ajax and Comet</title>

      

      <div class="container"><div class="row"><section><h4>LazyLoad Example</h4><p>Assume the calculation inside TestSlowLoad will take some time:</p><code><pre>(register-lift-snippet
 &quot;TestSlowLoad&quot;
 [node req page-id lift-instr]
 (Thread/sleep 10000)
 (-&gt; node 
     (assoc :content [&quot;Lazy Load finished!&quot;])
     (assoc-in [:attrs :class] &quot;alert alert-success&quot;)
     )
 )
</pre></code><p>Wrap the long loading snippet with a lift:LazyLoad snippet:</p><code><pre>&lt;span class=&quot;lift:LazyLoad&quot;&gt;
  &lt;:span class=&quot;lift:TestSlowLoad&quot;&gt;&gt;
&lt;/span&gt;
</pre></code><div><p>Result:</p><div class="well"><form class="lift:form.ajax?callback=ChatInput"><input type="text" name="chatmsg" placeholder=""><input type="submit"></form></div></div></section></div></div>


      <!-- Example row of columns -->
     

  

  
</div></body></html>