<!DOCTYPE html><html lang="en"><head></head><body class="lift:content_id=main">

    <div id="main" class="lift:surround?with=default;at=content">

      
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Conditional Activiate</title>

      

      <div class="container"><div class="row"><section><h4>Conditional Activiate Example</h4><p>I treid to add google analytics to this page. But it makes no sense to activite it on everywhere trying closerve-example from github. So I write a snippet to check if the server is the right one:</p><pre class="prettyprint lang-clojure"><code>(register-lift-snippet
 &quot;ActiveIfIsMkrrf&quot;
 [node req page-id lift-instr]
 (if (and (:server-name req) 
          (re-matches #&quot;^.*mkrrf-it.com$&quot; (:server-name req)))
   node &quot;&quot;)
 )
</code></pre><p>And attach this snippet to google analytics script:</p><pre class="prettyprint lang-html"><code>&lt;script class=&quot;lift:ActiveIfIsMkrrf&quot;&gt;
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=....
&lt;/script&gt;</code></pre><div><p>Ok, now if you download from github this example code and try it on your machine, it will not send google analytical script to the browser.</p><p>One can use the same method to hide/show login, logout buttons for eg.</p><p>I used the same snippet to wrap a disqus code piece here as well.</p></div></section></div></div>


      <!-- Example row of columns -->
     

  

  
</div></body></html>